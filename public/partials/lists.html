<div class="lists">
  <nav class="navbar navbar-default navbar-fixed-top">
    <a class="settings-link" ui-sref="settings({id: id})"><i class="fa fa-cog"></i> Settings</a>
    <div class="btn-group">
        <label class="btn btn-sm btn-default" ng-model="currentPerson" btn-radio="1" ng-click="setStoredCurrentPerson(1);">
          <i class="fa fa-circle assignee assignee-1"></i> {{bond.name1}}
        </label>
        <label class="btn btn-sm btn-default" ng-model="currentPerson" btn-radio="2" ng-click="setStoredCurrentPerson(2);">
          <i class="fa fa-circle assignee assignee-2"></i> {{bond.name2}}
        </label>
    </div>
  </nav>

  <div class="panel panel-primary">
    <div class="panel-heading"><i class="fa fa-list-ul"></i> <span>Our items</span></div>
    <div class="panel-body">
      <div ng-repeat="item in items">
        <div class="input-group" ng-show="item.status==='open'">
          <span class="input-group-addon" ng-click="openMarkAsDoneModal(item)" ng-show="$last ? false : true">
            <i class="fa fa-check text-success"></i>
          </span>
          <span class="input-group-addon" ng-show="$last ? false : true">
             <span ng-class="{'assignee-0': item.assignee===0}">
               <span ng-class="{'assignee-1': item.assignee===1}">
                 <span ng-class="{'assignee-2': item.assignee===2}">
                   <i class="fa fa-circle assignee"
                      ng-click="item.assignee = (item.assignee + 1) % 3; saveItems()"></i>            
                 </span></span></span>
          </span>
          <input type="text" class="form-control" ng-class="itemsDirtiness[$index]===true ? 'input-dirty' : ''" 
                 ng-model="item.description" placeholder="{{$last ? 'New item' : ''}}"
                 ng-change="onInputChange($index)" />
          <span class="input-group-addon" ng-click="saveItems()" 
                ng-show="itemsDirtiness[$index]===true && item.description.length!==0">
            <i class="fa fa-floppy-o text-info"></i>
          </span>  
          <span class="input-group-addon" ng-click="openSendSmsReminderModal(item)" 
                ng-show="itemsDirtiness[$index]===false && item.description.length!==0">
            <i class="fa fa-comment-o text-info"></i>
          </span>            
        </div>
      </div>
    </div> <!-- panel-body -->
  </div> <!-- panel -->

  <button type="button" class="btn btn-primary" ng-click="saveItems()" ng-show="showSaveButton">
    <i class="fa fa-floppy-o"></i> Save
  </button>

  <button type="button" class="btn btn-primary" ng-click="sortItems()" ng-show="showSortButton">
    <i class="fa fa-sort-amount-asc"></i> Sort
  </button>
</div>

<toaster-container toaster-options="{'position-class': 'toast-top-center', 'time-out': 1500}"></toaster-container>